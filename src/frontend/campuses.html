<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sedes - DuocPoint</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="manifest" href="/static/manifest.json">
    <meta name="theme-color" content="#0066cc">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="DuocPoint">
    <link rel="apple-touch-icon" href="/static/images/icons/icon-192x192.png">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img src="/imagenes/logos-iconos/Logo_DuocUC.svg.png" alt="DuocUC Logo" class="duoc-logo-img me-2">
                DuocPoint
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/forum/">Foros</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/market/">Mercado</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/portfolio/">Portafolio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/teachers.html">Profesores</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/campuses.html">Sedes</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4">
        <div class="row">
            <div class="col-12">
                <h1 class="mb-4">
                    <i class="fas fa-building me-2"></i>
                    Nuestras Sedes
                </h1>
                <p class="lead">Conoce las sedes de Duoc UC y sus instalaciones.</p>
            </div>
        </div>

        <!-- Campus Cards -->
        <div class="row" id="campusesGrid">
            <!-- Campus cards will be loaded here -->
        </div>
    </div>

    <!-- Campus Modal -->
    <div class="modal fade" id="campusModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="campusModalTitle">Información de la Sede</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="campusModalBody">
                    <!-- Campus details will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/main.js"></script>
    <script src="/static/js/pwa.js"></script>
    
    <script>
        // Sample campus data
        const campusesData = [
            {
                id: 1,
                name: "Sede Maipú",
                address: "Av. Américo Vespucio 1501, Maipú",
                phone: "+56 2 2345 6789",
                email: "maipu@duocuc.cl",
                lat: -33.5115,
                lng: -70.7525,
                image: "/static/images/campuses/maipu.jpg",
                description: "Nuestra sede principal ubicada en Maipú, con modernas instalaciones y amplios espacios de estudio.",
                facilities: [
                    "Biblioteca con más de 50,000 libros",
                    "Laboratorios de computación",
                    "Laboratorios de ingeniería",
                    "Cafetería y comedor",
                    "Gimnasio y canchas deportivas",
                    "Estacionamiento gratuito",
                    "WiFi en todo el campus"
                ],
                careers: [
                    "Ingeniería en Informática",
                    "Ingeniería en Construcción",
                    "Ingeniería en Mecánica",
                    "Administración",
                    "Contabilidad",
                    "Psicología",
                    "Enfermería"
                ],
                schedule: "Lunes a Viernes: 8:00 - 22:00<br>Sábados: 8:00 - 18:00"
            },
            {
                id: 2,
                name: "Sede San Carlos de Apoquindo",
                address: "Av. San Carlos 1980, Las Condes",
                phone: "+56 2 2345 6790",
                email: "sancarlos@duocuc.cl",
                lat: -33.4000,
                lng: -70.5500,
                image: "/static/images/campuses/sancarlos.jpg",
                description: "Sede ubicada en el corazón de Las Condes, con instalaciones de última generación.",
                facilities: [
                    "Biblioteca digital",
                    "Laboratorios especializados",
                    "Aulas inteligentes",
                    "Cafetería gourmet",
                    "Centro de bienestar estudiantil",
                    "Estacionamiento subterráneo",
                    "Acceso para personas con discapacidad"
                ],
                careers: [
                    "Ingeniería en Informática",
                    "Administración",
                    "Contabilidad",
                    "Psicología"
                ],
                schedule: "Lunes a Viernes: 8:00 - 22:00<br>Sábados: 8:00 - 18:00"
            },
            {
                id: 3,
                name: "Sede Valparaíso",
                address: "Av. Brasil 2160, Valparaíso",
                phone: "+56 32 2345 6791",
                email: "valparaiso@duocuc.cl",
                lat: -33.0458,
                lng: -71.6197,
                image: "/static/images/campuses/valparaiso.jpg",
                description: "Sede costera con vista al mar, ideal para el estudio y la reflexión.",
                facilities: [
                    "Biblioteca con vista al mar",
                    "Laboratorios de ingeniería",
                    "Centro de investigación",
                    "Cafetería con terraza",
                    "Gimnasio y piscina",
                    "Estacionamiento",
                    "Transporte público directo"
                ],
                careers: [
                    "Ingeniería en Construcción",
                    "Ingeniería en Mecánica",
                    "Administración",
                    "Enfermería"
                ],
                schedule: "Lunes a Viernes: 8:00 - 22:00<br>Sábados: 8:00 - 18:00"
            }
        ];

        // Load campuses on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadCampuses();
        });

        function loadCampuses() {
            const grid = document.getElementById('campusesGrid');
            grid.innerHTML = '';

            campusesData.forEach(campus => {
                const campusCard = createCampusCard(campus);
                grid.appendChild(campusCard);
            });
        }

        function createCampusCard(campus) {
            const col = document.createElement('div');
            col.className = 'col-md-6 col-lg-4 mb-4';

            col.innerHTML = `
                <div class="card h-100 shadow-sm">
                    <div class="position-relative">
                        <img src="${campus.image}" 
                             alt="${campus.name}" 
                             class="card-img-top" 
                             style="height: 200px; object-fit: cover;"
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDQwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjIwMCIgY3k9IjEwMCIgcj0iNDAiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTE2MCAxNDBDMTYwIDEyNS42NDEgMTcyLjY0MSAxMTMgMTg3IDExM0gyMTNDMjI3LjM1OSAxMTMgMjQwIDEyNS42NDEgMjQwIDE0MFYyMDBIMTYwVjE0MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+'">
                        <div class="position-absolute top-0 end-0 m-2">
                            <span class="badge bg-primary">
                                <i class="fas fa-map-marker-alt me-1"></i>
                                ${campus.careers.length} Carreras
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">${campus.name}</h5>
                        <p class="card-text text-muted">
                            <i class="fas fa-map-marker-alt me-1"></i>
                            ${campus.address}
                        </p>
                        <p class="card-text">
                            <i class="fas fa-phone me-1"></i>
                            ${campus.phone}
                        </p>
                        <p class="card-text">
                            <i class="fas fa-envelope me-1"></i>
                            ${campus.email}
                        </p>
                        <div class="d-grid gap-2">
                            <button class="btn btn-outline-primary" onclick="showCampusDetails(${campus.id})">
                                <i class="fas fa-info-circle me-1"></i>
                                Ver Detalles
                            </button>
                            <button class="btn btn-outline-secondary" onclick="openMaps(${campus.lat}, ${campus.lng})">
                                <i class="fas fa-directions me-1"></i>
                                Cómo Llegar
                            </button>
                        </div>
                    </div>
                </div>
            `;

            return col;
        }

        function showCampusDetails(campusId) {
            const campus = campusesData.find(c => c.id === campusId);
            if (!campus) return;

            const modalTitle = document.getElementById('campusModalTitle');
            const modalBody = document.getElementById('campusModalBody');

            modalTitle.textContent = campus.name;

            modalBody.innerHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <img src="${campus.image}" 
                             alt="${campus.name}" 
                             class="img-fluid rounded mb-3" 
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDUwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjI1MCIgY3k9IjE1MCIgcj0iNjAiIGZpbGw9IiM5Q0EzQUYiLz4KPHBhdGggZD0iTTIwMCAyMjBDMjAwIDIwNS42NDEgMjEyLjY0MSAxOTMgMjI3IDE5M0gyNzNDMjg3LjM1OSAxOTMgMzAwIDIwNS42NDEgMzAwIDIyMFYzMDBIMjAwVjIyMFoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+'">
                        
                        <h6><i class="fas fa-info-circle me-2"></i>Descripción</h6>
                        <p>${campus.description}</p>
                        
                        <h6><i class="fas fa-clock me-2"></i>Horarios</h6>
                        <p>${campus.schedule}</p>
                    </div>
                    <div class="col-md-6">
                        <h6><i class="fas fa-phone me-2"></i>Contacto</h6>
                        <p><strong>Teléfono:</strong> ${campus.phone}</p>
                        <p><strong>Email:</strong> ${campus.email}</p>
                        <p><strong>Dirección:</strong> ${campus.address}</p>
                        
                        <h6 class="mt-3"><i class="fas fa-graduation-cap me-2"></i>Carreras Disponibles</h6>
                        <ul class="list-unstyled">
                            ${campus.careers.map(career => `<li><i class="fas fa-book me-2"></i>${career}</li>`).join('')}
                        </ul>
                        
                        <h6 class="mt-3"><i class="fas fa-building me-2"></i>Instalaciones</h6>
                        <ul class="list-unstyled">
                            ${campus.facilities.map(facility => `<li><i class="fas fa-check me-2 text-success"></i>${facility}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;

            const modal = new bootstrap.Modal(document.getElementById('campusModal'));
            modal.show();
        }

        function openMaps(lat, lng) {
            const url = `https://www.google.com/maps?q=${lat},${lng}`;
            window.open(url, '_blank');
        }
    </script>
</body>
</html>
